<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Beyond | 21CN十八周年庆</title>
  <meta name="description" content="">
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height">
  <meta name="apple-touch-fullscreen" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <!-- uc强制竖屏 -->
  <meta name="screen-orientation" content="portrait">
  <!-- UC强制全屏 -->
  <meta name="full-screen" content="yes">
  <!-- UC应用模式 -->
  <meta name="browsermode" content="application">
  <!-- QQ强制竖屏 -->
  <meta name="x5-orientation" content="portrait">
  <!-- QQ强制全屏 -->
  <meta name="x5-fullscreen" content="true">
  <!-- QQ应用模式 -->
  <meta name="x5-page-mode" content="app">
  <link rel="stylesheet" href="css/vendor/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <script>
    // px-rem 自适应换算
    function Rem() {
      var docEl = document.documentElement,
        oSize = docEl.clientWidth / 7.5;

      if (oSize > 144) {
        oSize = 144; //  限制rem值   640 /7.5 =85
      }

      docEl.style.fontSize = oSize + 'px';
    }
    window.addEventListener('resize', Rem, false);
    Rem();

  </script>
  <script src="js/vendor/modernizr-3.5.0.min.js"></script>
  <script src="js/vendor/jquery-1.12.4.min.js"></script>
  <script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
  <script src="http://qzonestyle.gtimg.cn/qzone/qzact/common/share/share.js"></script>
  <script src="js/main.js"></script>
  <script>
    setPageShare({
      url: 'http://k.21cn.com/18th/events/',
      title: 'Beyond | 21CN十八周年庆',
      desc: '与你分享21CN十八岁生日的喜悦',
      picUrl: 'http://k.21cn.com/18th/events/images/wx-share.png'
    });
    setShareInfo({
      url: 'http://k.21cn.com/18th/events/',
      title: 'Beyond | 21CN十八周年庆',
      summary: '与你分享21CN十八岁生日的喜悦',
      pic: 'http://k.21cn.com/18th/events/images/wx-share.png'
    });
    // 外部分享
    function setPageShare(share) {
      var shareurl = share.url;
      var sharetitle = share.title;
      var sharedesc = share.desc;
      var shareimage = share.picUrl;

      $.ajax({
        url: 'http://event.21cn.com/api/v1/wxin/getSign2.do',
        data: {
          'url': encodeURIComponent(window.location.href.split('#')[0])
        },
        type: 'post',
        dataType: 'jsonp',
        jsonp: 'jsoncallback',
        timeout: 3000,
        success: function (json) {
          var signature = json.signature;
          var noncestr = json.nonceStr;
          var timestamp = json.timeStr;

          wx.config({
            debug: false,
            appId: 'wxe632d63bbcfe4e6c',
            timestamp: timestamp,
            nonceStr: noncestr,
            signature: signature,
            jsApiList: ['onMenuShareAppMessage', 'onMenuShareTimeline', 'onMenuShareWeibo', 'onMenuShareQQ',
              'onMenuShareQZone'
            ]
          });
          wx.ready(function () {
            var globalAudio=document.getElementById("audio");
            globalAudio.play();

            wx.onMenuShareTimeline({
              title: sharetitle,
              desc: sharedesc,
              link: shareurl,
              imgUrl: shareimage,
              success: function () {},
              cancel: function () {}
            })
            wx.onMenuShareAppMessage({
              title: sharetitle,
              desc: sharedesc,
              link: shareurl,
              imgUrl: shareimage,
              success: function () {},
              cancel: function () {}
            })
            wx.onMenuShareWeibo({
              title: sharetitle,
              desc: sharedesc,
              link: shareurl,
              imgUrl: shareimage,
              success: function () {},
              cancel: function () {}
            })
            wx.onMenuShareQQ({
              title: sharetitle,
              desc: sharedesc,
              link: shareurl,
              imgUrl: shareimage,
              success: function () {},
              cancel: function () {}
            })
            wx.onMenuShareQZone({
              title: sharetitle,
              desc: sharedesc,
              link: shareurl,
              imgUrl: shareimage,
              success: function () {},
              cancel: function () {}
            })
          })
        },
        error: function (XMLHttpRequest, status) {}
      })
    }
  </script>
</head>

<body>
  <div class="container" id="container">
    <div class="music-switch music-play"></div>

    <!-- 地图主容器-->
    <div class="main-container">
      <div class="map-box">

      </div>
      <img class="top-flow" src="./images/top_flow.png">
      <h1 class="main-title">时光穿梭&nbsp;·</h1>
      <span class="single-location">&nbsp;&nbsp;天河</span>
      <h2 class="main-locaiton"></h2>
      <div class="message message-1" id="switch-point">
        <P class="year-range">1999年</P>
        <P class="message-content">三次乔迁
          <br>21CN成立 出生非凡</P>
        <img src="./images/hand.png" class="hand">
      </div>
    </div>
    <div class="loading">
      <img src="./images/loading_top.png" class="loading-top">
      <img src="./images/loading_logo.png" class="loading-logo">
      <img src="./images/loading_text.png" class="loading-text">
      <div src="./images/loading_button.png" class="loading_button">
        <span id="loading-per">0%</span>
      </div>
      <img src="./images/loading_bottom.png" class="loading-bottom">
    </div>
    <canvas class="background-canvas" id="background-canvas"></canvas>
    <canvas class="point-canvas" id="point-canvas"></canvas>
    <p class="switch-text" id="switch-text"></p>
    <p class="switch-number" id="switch-number"></p>
    <div class="thanks">
      <img src="./images/letter_title.png" class="letter-title">
      <img src="./images/main_letter.png" class="main-letter">
      <img src="./images/replay_button.png" id="replay" class="replay-button">
      <img src="./images/replay_text.png" class="replay-text">
      <img src="./images/thanks_bottom.png" class="thanks-bottom">
      <a href="./thanksLetter.html" class="to-login">
        <img src="./images/open_letter.png" id="to-login">
      </a>
    </div>
    <div class="only-weixin">
      <img src="./images/only-weixing.png" >
      <p>请在微信中打开H5</p>
    </div>
  </div>
  <audio src="./bg.mp3" id="audio" autoplay loop preload="true"></audio>
</body>

</html>
